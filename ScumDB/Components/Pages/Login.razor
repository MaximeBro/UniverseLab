@page "/admin/web-panel/login"

<PageTitle>ScumDb - Connexion</PageTitle>

<MudStack Row="false" Spacing="10" AlignItems="AlignItems.Center" Justify="Justify.Center" Class="pt-n16" Style="height: calc(100vh - 64px);">
    <MudPaper Class="py-6 px-8 dark-bg rounded-md light-border" Elevation="5" Style="border: 1px solid;">
        <MudStack Row="false">
            <MudText Class="text-white" Align="Align.Center" Typo="Typo.h5">Connexion</MudText>
            <EditForm Model="@_model" OnValidSubmit="@TryLogin">
                <DataAnnotationsValidator/>
                <MudTextField T="string" @bind-Value="_model.Identifier" Label="Identifiant" Variant="Variant.Outlined"
                              Placeholder=" " For="@(() => _model.Identifier)" Class="white-all mb-4 input-text" Style="min-width: 300px;"/>
                
                <MudTextField T="string" @bind-Value="_model.Password" Label="Mot de passe" Variant="Variant.Outlined"
                              Placeholder="" For="@(() => _model.Password)" Class="white-all my-4 input-text" Style="min-width: 300px;"
                              InputType="@PasswordInputType" Adornment="Adornment.End" AdornmentIcon="@PasswordIcon" OnAdornmentClick="@(() => _shown = !_shown)"/>
                
                <MudStack Class="mt-3" Row="false" Justify="Justify.Center">
                    <LoadingButton Class="text-white no-transform" ButtonType="ButtonType.Submit" Color="Color.Success" Variant="Variant.Filled"
                                   IsLoading="@_internalLoading">
                        Se connecter
                    </LoadingButton>
                </MudStack>
                <MudStack Class="mt-6" Row="false" Justify="Justify.Center">
                    <LoadingButton Class="text-dark no-transform white-bg" OnClick="@TryGoogleAuthAsync" StartIcon="@Hardcoded.Icons.Google" IsLoading="@_googleLoading" 
                                   LoadingColor="Color.Dark" Variant="Variant.Filled" LoadingIconSize="Size.Small" DropShadow>
                        Google
                    </LoadingButton>
                </MudStack>
                <MudStack Class="mt-3" Row="false" Justify="Justify.Center">
                    <LoadingButton Class="text-white no-transform" StartIcon="@IconsC.Brands.Steam" Variant="Variant.Filled" IsLoading="@_steamLoading">
                        Steam
                    </LoadingButton>
                </MudStack>
            </EditForm>
        </MudStack>
    </MudPaper>
</MudStack>