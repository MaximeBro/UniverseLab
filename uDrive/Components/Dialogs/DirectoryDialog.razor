<EditForm Model="@_model" OnValidSubmit="@Submit">
    <MudDialog Class="dark-bg">
        <DialogContent>
            <DialogCloseButton Dialog="@Dialog" Class="mr-n4 align-self-end"/>
            <MudStack Class="px-12 py-4" Justify="Justify.SpaceEvenly" Row="false" Spacing="0">
                <MudTextField T="string" @bind-Value="_model.Name" Variant="Variant.Outlined" Label="Nom du rÃ©pertoire" Placeholder="Images"/>
            </MudStack>
        </DialogContent>
        <DialogActions>
            <MudButton OnClick="@Close" Color="Color.Dark">Annuler</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Color="Color.Success">Ok</MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>

@code {
    [CascadingParameter] public MudDialogInstance Dialog { get; set; } = null!;
    
    [Parameter] public string? Name { get; set; }

    private readonly DirectoryModel _model = new();
    
    protected override void OnInitialized()
    {
        if (!string.IsNullOrWhiteSpace(Name))
        {
            _model.Name = Name;
        }
    }

    private void Close() => Dialog.Close();
    private void Submit() => Dialog.Close(_model.Name);
}